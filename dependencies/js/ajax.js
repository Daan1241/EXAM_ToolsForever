Ajax={Obj:function(e){this.url=e,this.xml=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),this.headers=[],this.headers=function(e){return this.headers=e,this},this.load=function(e){var n=this.xml;return n.addEventListener("loadend",function(){e(n.responseText)}),this},this.error=function(e){return this.xml.addEventListener("error",e),this},this.abort=function(e){return this.xml.addEventListener("abort",e),this},this.progress=function(e){return this.upload.onprogress=e,this}},get:function(e){var n=new Ajax.Obj(e);return n.run=function(){for(name in n.xml.open("GET",n.url,!0),n.headers)n.xml.setRequestHeader(name,n.headers[name]);n.xml.send()},n},post:function(e,n){var t=new Ajax.Obj(e);return t.run=function(){if(t.xml.open("POST",t.url,!0),"object"==typeof n){t.xml.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var e=[],r="",s=function(n){switch(typeof n){case"undefined":return;case"object":for(name in n)e.push(name),s(n[name]),e.pop();return}if(0!=e.length){r+=encodeURIComponent(e[0]);for(var t=1;t<e.length;t++)r+=encodeURIComponent("["+e[t]+"]");r+="="+encodeURIComponent(n)+"&"}};s(n),n=r.substr(0,r.length-1)}for(name in t.headers)t.xml.setRequestHeader(name,t.headers[name]);t.xml.send(n)},t}};